方法列表：

1. 文本生成embeddings，然后使用k-center-greedy算法进行采样，最后得到k个样本

问题：

（1）**k怎么选取？**

a.按照偏大的选 b.根据打的tag进行合并，而不是简单根据语义相似度（即这是预先聚类，然后tag是用于合并的）

（2）**是否存在其他好的采样算法，效率不丢失太多同时效果更好？**

（暂时不想

2. 加tag进行聚类

先为每一个instruction打标签，然后聚类，这样确定多样性

论文做法：

（1）首先不限定大模型的生成标签范围进行开放集的打标，提示词：

```
You are a tagging system that provides useful tags for instruction inten-
tions to distinguish instructions for a helpful AI assistant. Below is an
instruction:
[begin]
{instruction}
[end]
Please provide coarse-grained tags, such as ”Spelling and Grammar
Check” and ”Cosplay”, to identify main intentions of above instruction.
Your answer should be a list including titles of tags and a brief explana-
tion of each tag. Your response have to strictly follow this JSON format:
[{”tag”: str, ”explanation”: str}]. Please response in English.
```

（2）对标签进行去噪

频率过滤(基于α滤除长尾情况)、基于规则（去除空格以及特殊符号，之后使用NLTK进行词干提取）、基于语义聚类（PHRASEBERT+DBSCAN）、关联聚合（FP-growth）

各个参数设置：α=20、DBSCAN阈值为0.05、最小支持度为40，最小置信度为0.99

PHRASEBERT：[whaleloops/phrase-bert · HF Mirror (hf-mirror.com)](https://hf-mirror.com/whaleloops/phrase-bert)

（3）质量评估

从准确性以及一致性进行评估
